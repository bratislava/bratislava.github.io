(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4860],{3674:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/onboarding/git-workflow",function(){return t(9565)}])},9369:function(e,n,t){"use strict";var a=t(5893);t(7294);let i={logo:(0,a.jsx)("span",{children:"\uD83D\uDCDA Bratislava Documentation"}),project:{link:"https://github.com/bratislava"},docsRepositoryBase:"https://github.com/bratislava/bratislava.github.io",sidebar:{defaultMenuCollapseLevel:0},footer:{text:"Department of Innovation and Technology of the City of Bratislava"},faviconGlyph:"\uD83D\uDCDA"};n.Z=i},9565:function(e,n,t){"use strict";t.r(n);var a=t(5893),i=t(2673),r=t(4376),o=t(9369);t(9966);var s=t(1151);t(5675);let d={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,s.ah)(),e.components);return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)},pageOpts:{filePath:"pages/onboarding/git-workflow.md",route:"/onboarding/git-workflow",headings:[{depth:1,value:"Git workflow (committing, submitting & reviewing pull requests)",id:"git-workflow-committing-submitting--reviewing-pull-requests"},{depth:2,value:"Branches and environments",id:"branches-and-environments"},{depth:2,value:"Commit message, branch and PR name formats",id:"commit-message-branch-and-pr-name-formats"},{depth:2,value:"Labels & Assignees",id:"labels--assignees"},{depth:2,value:"Resolving conversations",id:"resolving-conversations"},{depth:2,value:"Merging & Rebasing",id:"merging--rebasing"},{depth:2,value:"Tips and tricks",id:"tips-and-tricks"}],pageMap:[{kind:"MdxPage",name:"GINIS",route:"/GINIS"},{kind:"Meta",data:{index:"Introduction",onboarding:"Setup & Onboarding","-- Eslint --":{type:"separator"},"eslint-and-prettier":"Eslint & Prettier","-- Web development --":{type:"separator"},frontend:"Frontend",strapi:"Strapi",graphql:"GraphQL",meilisearch:"Meilisearch","-- Backend --":{type:"separator"},GINIS:"GINIS",nestjs:"NestJS","-- DevOps --":{type:"separator"},"deployment-and-infrastructure":"Deployment & Infrastructure","monitoring-and-observability":"Monitoring & Observability","-- Projects --":{type:"separator"},"bratislava.sk":"bratislava.sk","konto.bratislava.sk":"konto.bratislava.sk","muzeumbratislava.sk":"muzeumbratislava.sk"}},{kind:"Folder",name:"bratislava.sk",route:"/bratislava.sk",children:[{kind:"MdxPage",name:"add-new-component-to-sections",route:"/bratislava.sk/add-new-component-to-sections"},{kind:"MdxPage",name:"meilisearch-setup",route:"/bratislava.sk/meilisearch-setup"},{kind:"Meta",data:{"add-new-component-to-sections":"Add New Component to Sections","meilisearch-setup":"Meilisearch Setup"}}]},{kind:"Folder",name:"deployment-and-infrastructure",route:"/deployment-and-infrastructure",children:[{kind:"MdxPage",name:"backups",route:"/deployment-and-infrastructure/backups"},{kind:"MdxPage",name:"connecting-to-kubernetes",route:"/deployment-and-infrastructure/connecting-to-kubernetes"},{kind:"MdxPage",name:"database-backups",route:"/deployment-and-infrastructure/database-backups"},{kind:"MdxPage",name:"debug-cluster-connectivity",route:"/deployment-and-infrastructure/debug-cluster-connectivity"},{kind:"MdxPage",name:"deployment",route:"/deployment-and-infrastructure/deployment"},{kind:"MdxPage",name:"env-vars-and-secrets",route:"/deployment-and-infrastructure/env-vars-and-secrets"},{kind:"MdxPage",name:"production-deployment-checklist",route:"/deployment-and-infrastructure/production-deployment-checklist"},{kind:"Meta",data:{backups:"Backups","connecting-to-kubernetes":"Connecting to Kubernetes","database-backups":"Database Backups","debug-cluster-connectivity":"Debug Cluster Connectivity",deployment:"Deployment","env-vars-and-secrets":"Env Vars and Secrets","production-deployment-checklist":"Production Deployment Checklist"}}]},{kind:"MdxPage",name:"eslint-and-prettier",route:"/eslint-and-prettier"},{kind:"Folder",name:"frontend",route:"/frontend",children:[{kind:"Meta",data:{components:{title:"Components"},svg:{title:"SVG setup"},captcha:{display:"hidden",title:"Captcha"},"data-fetching-listing":{title:"Data fetching & listing",display:"hidden"},"date-and-time":{title:"Date & time",display:"hidden"},fonts:{display:"hidden",title:"Fonts"},gallery:{display:"hidden",title:"Gallery"},icons:{display:"hidden",title:"Icons"},images:{display:"hidden",title:"Images"},localization:{display:"hidden",title:"Localization"},menu:{display:"hidden",title:"Menu"},"navigation-breadcrumbs":{title:"Navigation & breadcrumbs",display:"hidden"},search:{display:"hidden",title:"Search"},seo:{display:"hidden",title:"Seo"},texts:{display:"hidden",title:"Texts"}}},{kind:"MdxPage",name:"captcha",route:"/frontend/captcha"},{kind:"Folder",name:"components",route:"/frontend/components",children:[{kind:"Meta",data:{cards:{title:"Cards"},links:{display:"hidden",title:"Links"},modals:{display:"hidden",title:"Modals"},tables:{display:"hidden",title:"Tables"}}},{kind:"MdxPage",name:"cards",route:"/frontend/components/cards"},{kind:"MdxPage",name:"links",route:"/frontend/components/links"},{kind:"MdxPage",name:"modals",route:"/frontend/components/modals"},{kind:"MdxPage",name:"tables",route:"/frontend/components/tables"}]},{kind:"MdxPage",name:"components",route:"/frontend/components"},{kind:"MdxPage",name:"data-fetching-listing",route:"/frontend/data-fetching-listing"},{kind:"MdxPage",name:"date-and-time",route:"/frontend/date-and-time"},{kind:"MdxPage",name:"fonts",route:"/frontend/fonts"},{kind:"MdxPage",name:"gallery",route:"/frontend/gallery"},{kind:"MdxPage",name:"icons",route:"/frontend/icons"},{kind:"MdxPage",name:"images",route:"/frontend/images"},{kind:"MdxPage",name:"localization",route:"/frontend/localization"},{kind:"MdxPage",name:"menu",route:"/frontend/menu"},{kind:"MdxPage",name:"navigation-breadcrumbs",route:"/frontend/navigation-breadcrumbs"},{kind:"MdxPage",name:"search",route:"/frontend/search"},{kind:"MdxPage",name:"seo",route:"/frontend/seo"},{kind:"MdxPage",name:"svg",route:"/frontend/svg"},{kind:"MdxPage",name:"texts",route:"/frontend/texts"}]},{kind:"MdxPage",name:"graphql",route:"/graphql"},{kind:"MdxPage",name:"index",route:"/"},{kind:"Folder",name:"konto.bratislava.sk",route:"/konto.bratislava.sk",children:[{kind:"MdxPage",name:"forms-general",route:"/konto.bratislava.sk/forms-general"},{kind:"MdxPage",name:"forms-uischema",route:"/konto.bratislava.sk/forms-uischema"},{kind:"MdxPage",name:"forms-upload-file",route:"/konto.bratislava.sk/forms-upload-file"},{kind:"Meta",data:{"forms-general":"Forms General","forms-uischema":"Forms Uischema","forms-upload-file":"Forms Upload File"}}]},{kind:"MdxPage",name:"meilisearch",route:"/meilisearch"},{kind:"Folder",name:"monitoring-and-observability",route:"/monitoring-and-observability",children:[{kind:"Folder",name:"alerting",route:"/monitoring-and-observability/alerting",children:[{kind:"MdxPage",name:"contact-point",route:"/monitoring-and-observability/alerting/contact-point"},{kind:"MdxPage",name:"endpoint_alert",route:"/monitoring-and-observability/alerting/endpoint_alert"},{kind:"MdxPage",name:"grafana_alerting",route:"/monitoring-and-observability/alerting/grafana_alerting"},{kind:"MdxPage",name:"log_alert",route:"/monitoring-and-observability/alerting/log_alert"},{kind:"MdxPage",name:"resource_alert",route:"/monitoring-and-observability/alerting/resource_alert"},{kind:"Meta",data:{"contact-point":"Contact Point",endpoint_alert:"Endpoint Alert",grafana_alerting:"Grafana Alerting",log_alert:"Log Alert",resource_alert:"Resource Alert"}}]},{kind:"MdxPage",name:"grafana",route:"/monitoring-and-observability/grafana"},{kind:"Meta",data:{grafana:"Grafana"}}]},{kind:"Folder",name:"muzeumbratislava.sk",route:"/muzeumbratislava.sk",children:[{kind:"MdxPage",name:"new-year-update",route:"/muzeumbratislava.sk/new-year-update"},{kind:"Meta",data:{"new-year-update":"New Year Update"}}]},{kind:"Folder",name:"nestjs",route:"/nestjs",children:[{kind:"MdxPage",name:"Authentication",route:"/nestjs/Authentication"},{kind:"MdxPage",name:"CardWebPay",route:"/nestjs/CardWebPay"},{kind:"MdxPage",name:"Controllers",route:"/nestjs/Controllers"},{kind:"MdxPage",name:"Kubernetes",route:"/nestjs/Kubernetes"},{kind:"MdxPage",name:"Logging",route:"/nestjs/Logging"},{kind:"MdxPage",name:"Module",route:"/nestjs/Module"},{kind:"MdxPage",name:"NestJS",route:"/nestjs/NestJS"},{kind:"MdxPage",name:"OpenAPI",route:"/nestjs/OpenAPI"},{kind:"MdxPage",name:"Prisma",route:"/nestjs/Prisma"},{kind:"MdxPage",name:"ProjectStructure",route:"/nestjs/ProjectStructure"},{kind:"MdxPage",name:"RestApi",route:"/nestjs/RestApi"},{kind:"MdxPage",name:"Sentry",route:"/nestjs/Sentry"},{kind:"MdxPage",name:"Services",route:"/nestjs/Services"},{kind:"MdxPage",name:"Testing",route:"/nestjs/Testing"},{kind:"Meta",data:{Authentication:"Authentication",CardWebPay:"Cardwebpay",Controllers:"Controllers",Kubernetes:"Kubernetes",Logging:"Logging",Module:"Module",NestJS:"Nestjs",OpenAPI:"Openapi",Prisma:"Prisma",ProjectStructure:"Projectstructure",RestApi:"Restapi",Sentry:"Sentry",Services:"Services",Testing:"Testing"}}]},{kind:"Folder",name:"onboarding",route:"/onboarding",children:[{kind:"Meta",data:{"editor-setup":"Editor Setup","docker-setup":"Docker / Podman Setup","wsl-setup":"Windows WSL Setup","kubernetes-lens-setup":"Kubernetes & Lens Setup","postgres-setup":"Postgres Setup",other:"Other Setups","--- Workflow ---":{type:"separator"},"developer-accesses":"Developer Accesses","git-workflow":"Git Workflow"}},{kind:"MdxPage",name:"developer-accesses",route:"/onboarding/developer-accesses"},{kind:"MdxPage",name:"docker-setup",route:"/onboarding/docker-setup"},{kind:"MdxPage",name:"editor-setup",route:"/onboarding/editor-setup"},{kind:"MdxPage",name:"git-workflow",route:"/onboarding/git-workflow"},{kind:"MdxPage",name:"kubernetes-lens-setup",route:"/onboarding/kubernetes-lens-setup"},{kind:"MdxPage",name:"other",route:"/onboarding/other"},{kind:"MdxPage",name:"postgres-setup",route:"/onboarding/postgres-setup"},{kind:"MdxPage",name:"wsl-setup",route:"/onboarding/wsl-setup"}]},{kind:"Folder",name:"strapi",route:"/strapi",children:[{kind:"Meta",data:{"general-concepts":"General concepts","best-practices":"Best practices","make-content-public":"Make the content public",setup:"Setup","load-strapi-db-in-local-dev":"Load DB for local development","sync-strapi-db-to-different-env":"Sync DB between deployments"}},{kind:"MdxPage",name:"best-practices",route:"/strapi/best-practices"},{kind:"MdxPage",name:"general-concepts",route:"/strapi/general-concepts"},{kind:"MdxPage",name:"load-strapi-db-in-local-dev",route:"/strapi/load-strapi-db-in-local-dev"},{kind:"MdxPage",name:"make-content-public",route:"/strapi/make-content-public"},{kind:"MdxPage",name:"setup",route:"/strapi/setup"},{kind:"MdxPage",name:"sync-strapi-db-to-different-env",route:"/strapi/sync-strapi-db-to-different-env"}]}],flexsearch:{codeblocks:!0},title:"Git workflow (committing, submitting & reviewing pull requests)"},pageNextRoute:"/onboarding/git-workflow",nextraLayout:r.ZP,themeConfig:o.Z};function l(e){let n=Object.assign({h1:"h1",p:"p",a:"a",pre:"pre",code:"code",span:"span",h2:"h2",strong:"strong",em:"em"},(0,s.ah)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"git-workflow-committing-submitting--reviewing-pull-requests",children:"Git workflow (committing, submitting & reviewing pull requests)"}),"\n",(0,a.jsxs)(n.p,{children:["To contribute to our project you will need an account on ",(0,a.jsx)(n.a,{href:"https://github.com/",children:"GitHub"})," and ",(0,a.jsx)(n.a,{href:"https://git-scm.com/",children:"git"}),". Some of the systems (some of the *nix and Mac) already come with git pre-installed, which you can check by running"]}),"\n",(0,a.jsx)(n.pre,{"data-language":"bash","data-theme":"default",children:(0,a.jsx)(n.code,{"data-language":"bash","data-theme":"default",children:(0,a.jsxs)(n.span,{className:"line",children:[(0,a.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"git"}),(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,a.jsx)(n.span,{style:{color:"var(--shiki-token-string)"},children:"--version"})]})})}),"\n",(0,a.jsxs)(n.p,{children:["If you don't have it installed you can follow these guides for ",(0,a.jsx)(n.a,{href:"https://git-scm.com/download/linux",children:"Linux/Unix"})," or ",(0,a.jsx)(n.a,{href:"https://git-scm.com/download/mac",children:"Mac"}),". For windows, you can use ",(0,a.jsx)(n.a,{href:"https://gitforwindows.org/",children:"gitforwindows"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"branches-and-environments",children:"Branches and environments"}),"\n",(0,a.jsxs)(n.p,{children:["We use a single trunk (",(0,a.jsx)(n.code,{children:"master"}),") from which feature branches are created. Master is what is regularly deployed to staging environment. Production builds are created for tagged commits, usually from master, but if a quick production fix is needed, the process is to branch-off at the last tagged commit and create new production tags on this new branch."]}),"\n",(0,a.jsxs)(n.p,{children:["There is no ",(0,a.jsx)(n.code,{children:"develop"})," or ",(0,a.jsx)(n.code,{children:"production"})," branch, and there should rarely be need for a long-running branch other than ",(0,a.jsx)(n.code,{children:"master"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"commit-message-branch-and-pr-name-formats",children:"Commit message, branch and PR name formats"}),"\n",(0,a.jsxs)(n.p,{children:["Preferred way of branch naming is ",(0,a.jsx)(n.code,{children:"{issue-id}/{2-3 word summary}"}),", for example ",(0,a.jsx)(n.code,{children:"MKB-460/form-captcha"}),"."]}),"\n",(0,a.jsx)(n.p,{children:'Titles of pull requests should begin with issue id and one sentence description, for example "MKB-460: Add Google Recapcha to page forms".'}),"\n",(0,a.jsxs)(n.p,{children:["For commit messages and pull request description please follow the conventions the way they are written here ",(0,a.jsx)(n.a,{href:"https://namingconvention.org/git/",children:"https://namingconvention.org/git/"}),". If multiple options are provided (i.e. for commit message formatting), then all of them are ok."]}),"\n",(0,a.jsx)(n.h2,{id:"labels--assignees",children:"Labels & Assignees"}),"\n",(0,a.jsxs)(n.p,{children:["We are using labels and assignees to navigate easily through the open pull requests. Labels should be self explanatory. ",(0,a.jsx)(n.strong,{children:"Assignee should always be the person whose action is required to move the PR forward."})," That is, if the PR is waiting for review by someone, the reviewer should be an assignee. If a code change is expected by a person, or a question needs to be answered, assign the PR to the person making the change or capable of answering. This way you can easily see which PRs are waiting for your actions, request assistance, or know who should you bother if your PR is stuck \uD83D\uDE42."]}),"\n",(0,a.jsxs)(n.p,{children:["The usual PR workflow involves assigning the PR between a selected reviewer and the author, while also swapping the ",(0,a.jsx)(n.code,{children:"needs work"})," and ",(0,a.jsx)(n.code,{children:"needs review"})," labels depending on the current state. Once the reviewer is satisfied, they'll assign a ",(0,a.jsx)(n.code,{children:"fix & ship"})," label, leaving it up to the author to merge at his or hers convenience, optionally fixing some minor issues before doing so (without the need for a further review)."]}),"\n",(0,a.jsx)(n.p,{children:"Some projects have already set up automatic labeling depending on PR state (PR Labeler workflow)."}),"\n",(0,a.jsx)(n.h2,{id:"resolving-conversations",children:"Resolving conversations"}),"\n",(0,a.jsx)(n.p,{children:"It is helpful to resolve (github) conversations you have started if you feel the topic has been answered. This goes particularly for reviewers doing multiple passes on a single PR - try to resolve what you can before adding more comments on a subsequent pass."}),"\n",(0,a.jsx)(n.h2,{id:"merging--rebasing",children:"Merging & Rebasing"}),"\n",(0,a.jsxs)(n.p,{children:["Squash & merge into master. Liberal use of ",(0,a.jsx)(n.code,{children:"rebase"})," for cleaning up your own feature branches (mainly if you tend to create and push work-in-progress commits) is encouraged. If your local commits are ",(0,a.jsx)(n.em,{children:"way"})," out of control, you might be required to do so before your PR is accepted (but this happens rarely)."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.em,{children:"Still, be careful"})," if someone else branches off one of your feature branches - to make their life easier, you should avoid rebasing, if possible, past the point they've branched at - at least until your work is ready to become a part of master."]}),"\n",(0,a.jsx)(n.h2,{id:"tips-and-tricks",children:"Tips and tricks"}),"\n",(0,a.jsxs)(n.p,{children:["Line endings - we have both linux and windows contributors in our repos. To void issues with different encoding of line endings consider using gits autocrlf config ",(0,a.jsx)(n.code,{children:"git config core.autocrlf true"})," this will avoid large whitespace diffs with no changes"]})]})}n.default=(0,i.j)(d)}},function(e){e.O(0,[9774,5840,2888,179],function(){return e(e.s=3674)}),_N_E=e.O()}]);