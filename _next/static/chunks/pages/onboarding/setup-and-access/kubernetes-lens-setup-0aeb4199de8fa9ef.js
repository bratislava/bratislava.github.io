(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8229],{4039:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/onboarding/setup-and-access/kubernetes-lens-setup",function(){return t(6751)}])},3957:function(e,n,t){"use strict";var s=t(5893);t(7294);let a={logo:(0,s.jsx)("span",{children:"\uD83D\uDCDA Bratislava Documentation"}),project:{link:"https://github.com/bratislava"},docsRepositoryBase:"https://github.com/bratislava/bratislava.github.io",sidebar:{defaultMenuCollapseLevel:0},footer:{text:"Department of Innovation and Technology of the City of Bratislava"},faviconGlyph:"\uD83D\uDCDA"};n.Z=a},6751:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return d.ZP}});var s,a=t(5893),r=t(2720),i=t(3957);t(5513);var o=t(1151);t(5675);var d=t(1235);let l={filePath:"pages/onboarding/setup-and-access/kubernetes-lens-setup.md",route:"/onboarding/setup-and-access/kubernetes-lens-setup",frontMatter:{},pageMap:[{kind:"MdxPage",name:"GINIS",route:"/GINIS"},{kind:"Meta",data:{index:"Introduction",onboarding:"Onboarding","-- Web development --":{type:"separator"},strapi:"Strapi",graphql:"GraphQL",meilisearch:"Meilisearch",frontend:"Frontend","project-specific":"Project specific","-- Others --":{type:"separator"},"deployment-and-infrastructure":"Deployment and Infrastructure",GINIS:"Ginis",nestjs:"Nestjs",recipes:"Recipes"}},{kind:"Folder",name:"deployment-and-infrastructure",route:"/deployment-and-infrastructure",children:[{kind:"MdxPage",name:"backups",route:"/deployment-and-infrastructure/backups"},{kind:"MdxPage",name:"database-backups",route:"/deployment-and-infrastructure/database-backups"},{kind:"MdxPage",name:"deployment",route:"/deployment-and-infrastructure/deployment"},{kind:"MdxPage",name:"grafana",route:"/deployment-and-infrastructure/grafana"},{kind:"Meta",data:{backups:"Backups","database-backups":"Database Backups",deployment:"Deployment",grafana:"Grafana"}}]},{kind:"Folder",name:"frontend",route:"/frontend",children:[{kind:"Meta",data:{captcha:{display:"hidden"},"data-fetching-listing":{title:"Data fetching & listing",display:"hidden"},"date-and-time":{title:"Date & time",display:"hidden"},fonts:{display:"hidden"},gallery:{display:"hidden"},icons:{display:"hidden"},images:{display:"hidden"},localization:{display:"hidden"},menu:{display:"hidden"},"navigation-breadcrumbs":{title:"Navigation & breadcrumbs",display:"hidden"},search:{display:"hidden"},seo:{display:"hidden"},texts:{display:"hidden"},components:"Components"}},{kind:"MdxPage",name:"captcha",route:"/frontend/captcha"},{kind:"Folder",name:"components",route:"/frontend/components",children:[{kind:"Meta",data:{cards:{display:"hidden"},links:{display:"hidden"},modals:{display:"hidden"},tables:"Tables"}},{kind:"MdxPage",name:"cards",route:"/frontend/components/cards"},{kind:"MdxPage",name:"links",route:"/frontend/components/links"},{kind:"MdxPage",name:"modals",route:"/frontend/components/modals"},{kind:"MdxPage",name:"tables",route:"/frontend/components/tables"}]},{kind:"MdxPage",name:"components",route:"/frontend/components"},{kind:"MdxPage",name:"data-fetching-listing",route:"/frontend/data-fetching-listing"},{kind:"MdxPage",name:"date-and-time",route:"/frontend/date-and-time"},{kind:"MdxPage",name:"fonts",route:"/frontend/fonts"},{kind:"MdxPage",name:"gallery",route:"/frontend/gallery"},{kind:"MdxPage",name:"icons",route:"/frontend/icons"},{kind:"MdxPage",name:"images",route:"/frontend/images"},{kind:"MdxPage",name:"localization",route:"/frontend/localization"},{kind:"MdxPage",name:"menu",route:"/frontend/menu"},{kind:"MdxPage",name:"navigation-breadcrumbs",route:"/frontend/navigation-breadcrumbs"},{kind:"MdxPage",name:"search",route:"/frontend/search"},{kind:"MdxPage",name:"seo",route:"/frontend/seo"},{kind:"MdxPage",name:"texts",route:"/frontend/texts"}]},{kind:"MdxPage",name:"graphql",route:"/graphql"},{kind:"MdxPage",name:"index",route:"/",frontMatter:{sidebar_position:1}},{kind:"MdxPage",name:"meilisearch",route:"/meilisearch"},{kind:"Folder",name:"nestjs",route:"/nestjs",children:[{kind:"MdxPage",name:"Authentication",route:"/nestjs/Authentication"},{kind:"MdxPage",name:"CardWebPay",route:"/nestjs/CardWebPay"},{kind:"MdxPage",name:"Controllers",route:"/nestjs/Controllers"},{kind:"MdxPage",name:"Kubernetes",route:"/nestjs/Kubernetes"},{kind:"MdxPage",name:"Logging",route:"/nestjs/Logging"},{kind:"MdxPage",name:"Module",route:"/nestjs/Module"},{kind:"MdxPage",name:"NestJS",route:"/nestjs/NestJS",frontMatter:{sidebar_position:1}},{kind:"MdxPage",name:"OpenAPI",route:"/nestjs/OpenAPI"},{kind:"MdxPage",name:"Prisma",route:"/nestjs/Prisma"},{kind:"MdxPage",name:"ProjectStructure",route:"/nestjs/ProjectStructure"},{kind:"MdxPage",name:"RestApi",route:"/nestjs/RestApi"},{kind:"MdxPage",name:"Sentry",route:"/nestjs/Sentry"},{kind:"MdxPage",name:"Services",route:"/nestjs/Services"},{kind:"MdxPage",name:"Testing",route:"/nestjs/Testing"},{kind:"Meta",data:{Authentication:"Authentication",CardWebPay:"Cardwebpay",Controllers:"Controllers",Kubernetes:"Kubernetes",Logging:"Logging",Module:"Module",NestJS:"Nestjs",OpenAPI:"Openapi",Prisma:"Prisma",ProjectStructure:"Projectstructure",RestApi:"Restapi",Sentry:"Sentry",Services:"Services",Testing:"Testing"}}]},{kind:"Folder",name:"onboarding",route:"/onboarding",children:[{kind:"Folder",name:"setup-and-access",route:"/onboarding/setup-and-access",children:[{kind:"MdxPage",name:"developer-accesses",route:"/onboarding/setup-and-access/developer-accesses"},{kind:"MdxPage",name:"docker-setup",route:"/onboarding/setup-and-access/docker-setup"},{kind:"MdxPage",name:"editor-setup",route:"/onboarding/setup-and-access/editor-setup"},{kind:"MdxPage",name:"kubernetes-lens-setup",route:"/onboarding/setup-and-access/kubernetes-lens-setup"},{kind:"MdxPage",name:"postgres-setup",route:"/onboarding/setup-and-access/postgres-setup"},{kind:"Meta",data:{"developer-accesses":"Developer Accesses","docker-setup":"Docker Setup","editor-setup":"Editor Setup","kubernetes-lens-setup":"Kubernetes Lens Setup","postgres-setup":"Postgres Setup"}}]},{kind:"Folder",name:"workflows",route:"/onboarding/workflows",children:[{kind:"MdxPage",name:"git-workflow",route:"/onboarding/workflows/git-workflow"},{kind:"MdxPage",name:"meetings-syncs-rituals",route:"/onboarding/workflows/meetings-syncs-rituals"},{kind:"Meta",data:{"git-workflow":"Git Workflow","meetings-syncs-rituals":"Meetings Syncs Rituals"}}]}]},{kind:"Folder",name:"project-specific",route:"/project-specific",children:[{kind:"Folder",name:"bratislava.sk",route:"/project-specific/bratislava.sk",children:[{kind:"MdxPage",name:"add-new-component-to-sections",route:"/project-specific/bratislava.sk/add-new-component-to-sections"},{kind:"MdxPage",name:"colors-and-themes",route:"/project-specific/bratislava.sk/colors-and-themes"},{kind:"MdxPage",name:"forms-general",route:"/project-specific/bratislava.sk/forms-general"},{kind:"MdxPage",name:"forms-uischema",route:"/project-specific/bratislava.sk/forms-uischema"},{kind:"MdxPage",name:"forms-upload-file",route:"/project-specific/bratislava.sk/forms-upload-file"},{kind:"MdxPage",name:"meilisearch-setup",route:"/project-specific/bratislava.sk/meilisearch-setup"},{kind:"MdxPage",name:"react-component-structure",route:"/project-specific/bratislava.sk/react-component-structure"},{kind:"Meta",data:{"add-new-component-to-sections":"Add New Component to Sections","colors-and-themes":"Colors and Themes","forms-general":"Forms General","forms-uischema":"Forms Uischema","forms-upload-file":"Forms Upload File","meilisearch-setup":"Meilisearch Setup","react-component-structure":"React Component Structure"}}]},{kind:"Folder",name:"muzeumbratislava.sk",route:"/project-specific/muzeumbratislava.sk",children:[{kind:"MdxPage",name:"new-year-update",route:"/project-specific/muzeumbratislava.sk/new-year-update"},{kind:"Meta",data:{"new-year-update":"New Year Update"}}]}]},{kind:"Folder",name:"recipes",route:"/recipes",children:[{kind:"Folder",name:"alerting",route:"/recipes/alerting",children:[{kind:"MdxPage",name:"contact-point",route:"/recipes/alerting/contact-point"},{kind:"MdxPage",name:"endpoint_alert",route:"/recipes/alerting/endpoint_alert"},{kind:"MdxPage",name:"grafana_alerting",route:"/recipes/alerting/grafana_alerting",frontMatter:{sidebar_position:1}},{kind:"MdxPage",name:"log_alert",route:"/recipes/alerting/log_alert"},{kind:"MdxPage",name:"resource_alert",route:"/recipes/alerting/resource_alert"},{kind:"Meta",data:{"contact-point":"Contact Point",endpoint_alert:"Endpoint Alert",grafana_alerting:"Grafana Alerting",log_alert:"Log Alert",resource_alert:"Resource Alert"}}]},{kind:"MdxPage",name:"connecting-to-kubernetes",route:"/recipes/connecting-to-kubernetes"},{kind:"Folder",name:"database-manipulation",route:"/recipes/database-manipulation",children:[{kind:"MdxPage",name:"load-strapi-db-in-local-dev",route:"/recipes/database-manipulation/load-strapi-db-in-local-dev"},{kind:"MdxPage",name:"sync-strapi-db-to-different-env",route:"/recipes/database-manipulation/sync-strapi-db-to-different-env"},{kind:"Meta",data:{"load-strapi-db-in-local-dev":"Load Strapi Db in Local Dev","sync-strapi-db-to-different-env":"Sync Strapi Db to Different Env"}}]},{kind:"MdxPage",name:"debug-cluster-connectivity",route:"/recipes/debug-cluster-connectivity"},{kind:"MdxPage",name:"env-vars-and-secrets",route:"/recipes/env-vars-and-secrets"},{kind:"MdxPage",name:"production-deployment-checklist",route:"/recipes/production-deployment-checklist"},{kind:"MdxPage",name:"sentry-setup",route:"/recipes/sentry-setup"},{kind:"MdxPage",name:"wsl",route:"/recipes/wsl"},{kind:"Meta",data:{alerting:"Alerting","connecting-to-kubernetes":"Connecting to Kubernetes","database-manipulation":"Database Manipulation","debug-cluster-connectivity":"Debug Cluster Connectivity","env-vars-and-secrets":"Env Vars and Secrets","production-deployment-checklist":"Production Deployment Checklist","sentry-setup":"Sentry Setup",wsl:"Wsl"}}]},{kind:"Folder",name:"strapi",route:"/strapi",children:[{kind:"MdxPage",name:"best-practices",route:"/strapi/best-practices"},{kind:"MdxPage",name:"general-concepts",route:"/strapi/general-concepts"},{kind:"MdxPage",name:"setup",route:"/strapi/setup"},{kind:"Meta",data:{"best-practices":"Best Practices","general-concepts":"General Concepts",setup:"Setup"}}]}],headings:[{type:"heading",depth:1,children:[{type:"text",value:"Kubernetes / Lens setup",position:{start:{line:1,column:3,offset:2},end:{line:1,column:26,offset:25}}}],position:{start:{line:1,column:1,offset:0},end:{line:1,column:26,offset:25}},value:"Kubernetes / Lens setup"},{type:"heading",depth:2,children:[{type:"text",value:"Install Requirements",position:{start:{line:5,column:4,offset:189},end:{line:5,column:24,offset:209}}}],position:{start:{line:5,column:1,offset:186},end:{line:5,column:24,offset:209}},value:"Install Requirements"},{type:"heading",depth:2,children:[{type:"text",value:"Login",position:{start:{line:14,column:4,offset:1071},end:{line:14,column:9,offset:1076}}}],position:{start:{line:14,column:1,offset:1068},end:{line:14,column:9,offset:1076}},value:"Login"},{type:"heading",depth:2,children:[{type:"text",value:"Tips & Tricks",position:{start:{line:29,column:4,offset:2090},end:{line:29,column:17,offset:2103}}}],position:{start:{line:29,column:1,offset:2087},end:{line:29,column:17,offset:2103}},value:"Tips & Tricks"}],flexsearch:{codeblocks:!0}};globalThis.__nextra_internal__={pageMap:l.pageMap,route:l.route};let c="Kubernetes / Lens setup";function u(e){let n=Object.assign({h1:"h1",p:"p",h2:"h2",ul:"ul",li:"li",code:"code",a:"a",br:"br",div:"div",pre:"pre",span:"span"},(0,o.ah)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{children:"Kubernetes / Lens setup"}),"\n",(0,a.jsx)(n.p,{children:"You can only do this with sufficient access rights - ask Innovations team or Bratislava IT department if connecting to k8s infrastructure is relevant to you."}),"\n",(0,a.jsx)(n.h2,{id:"install-requirements",children:"Install Requirements"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Install kubectl based ",(0,a.jsx)(n.code,{children:"brew install kubectl"})," or based on you platform you can follow ",(0,a.jsx)(n.a,{href:"https://kubernetes.io/docs/tasks/tools/",children:"https://kubernetes.io/docs/tasks/tools/"})]}),"\n",(0,a.jsxs)(n.li,{children:["Download and install vsphere tanzu plugin ",(0,a.jsx)(n.a,{href:"https://k8s.tanzu.bratislava.sk",children:"here"}),", you need to be connected on cable or through VPN to magistrate network","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Windows - copy ",(0,a.jsx)(n.code,{children:"kubectl"})," and ",(0,a.jsx)(n.code,{children:"kubectl-vsphere"})," to ",(0,a.jsx)(n.code,{children:"c:/windows/system32"})," (needed admin rights) otherwise ",(0,a.jsx)(n.code,{children:"kubectl vsphere login"})," commands will not work"]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["Install ",(0,a.jsx)(n.a,{href:"https://github.com/bitnami-labs/sealed-secrets#installation",children:"kubeseal"})," ",(0,a.jsx)(n.code,{children:"brew install kubeseal"})," (",(0,a.jsx)(n.code,{children:"apt install kubeseal"}),"), a tool for generating secrets"]}),"\n",(0,a.jsxs)(n.li,{children:["Download and install Kubernetes ",(0,a.jsx)(n.a,{href:"https://k8slens.dev",children:"Lens"}),", a GUI tool for easier management of cluster deployments"]}),"\n",(0,a.jsxs)(n.li,{children:["If you prefer command line environments there is also a tool called ",(0,a.jsx)(n.a,{href:"https://k9scli.io/",children:"k9s"}),", which can serve as alternative to Lens."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"login",children:"Login"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"be connected on cable or through VPN to magistrate, where username is your email."}),"\n",(0,a.jsxs)(n.li,{children:["run kubectl login commands","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["main login ",(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.code,{children:"kubectl vsphere login --server=10.10.10.1 --insecure-skip-tls-verify -u {{username}}"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["to login through Windows you need to set password ",(0,a.jsx)(n.code,{children:"export KUBECTL_VSPHERE_PASSWORD={{password}}"})]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["logins to clusters","\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"kubectl vsphere login --server=10.10.10.1 --insecure-skip-tls-verify --tanzu-kubernetes-cluster-name=tkg-innov-dev -u {{username}}"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"kubectl vsphere login --server=10.10.10.1 --insecure-skip-tls-verify --tanzu-kubernetes-cluster-name=tkg-innov-staging -u {{username}}"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"kubectl vsphere login --server=10.10.10.1 --insecure-skip-tls-verify --tanzu-kubernetes-cluster-name=tkg-innov-prod -u {{username}}"})}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"kubectl vsphere login --server=10.10.10.1 --insecure-skip-tls-verify --tanzu-kubernetes-cluster-name=tkg-master -u {{username}}"}),"\n(optional, you don't need this, its only master cluster)"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.li,{children:"open Lens and you should see clusters"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"tips--tricks",children:"Tips & Tricks"}),"\n",(0,a.jsx)(n.p,{children:"If you are running reasonable command line environment you can create aliases for these logins."}),"\n",(0,a.jsxs)(n.p,{children:["For *nix based command line environment you can add these to your ",(0,a.jsx)(n.code,{children:"~/.bash_aliases"})," or ",(0,a.jsx)(n.code,{children:"~/.bashrc"}),". For example:"]}),"\n",(0,a.jsx)(n.div,{"data-rehype-pretty-code-fragment":"",children:(0,a.jsx)(n.pre,{children:(0,a.jsxs)(n.code,{"data-language":"bash","data-theme":"default",children:[(0,a.jsx)(n.span,{className:"line",children:(0,a.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"# k8 login aliases"})}),"\n",(0,a.jsxs)(n.span,{className:"line",children:[(0,a.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"alias"}),(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" k8dev="}),(0,a.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'kubectl vsphere login --server=10.10.10.1 --insecure-skip-tls-verify --tanzu-kubernetes-cluster-name=tkg-innov-dev -u {{username}} && kubectl config use-context tkg-innov-dev'"})]}),"\n",(0,a.jsx)(n.span,{className:"line",children:" "}),"\n",(0,a.jsxs)(n.span,{className:"line",children:[(0,a.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"alias"}),(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" k8stage="}),(0,a.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'kubectl vsphere login --server=10.10.10.1 --insecure-skip-tls-verify --tanzu-kubernetes-cluster-name=tkg-innov-staging -u {{username}} && kubectl config use-context tkg-innov-staging'"})]}),"\n",(0,a.jsxs)(n.span,{className:"line",children:[(0,a.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"alias"}),(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" k8staging="}),(0,a.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'k8stage'"})]}),"\n",(0,a.jsx)(n.span,{className:"line",children:" "}),"\n",(0,a.jsxs)(n.span,{className:"line",children:[(0,a.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"alias"}),(0,a.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" k8prod="}),(0,a.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'kubectl vsphere login --server=10.10.10.1 --insecure-skip-tls-verify --tanzu-kubernetes-cluster-name=tkg-innov-prod -u {{username}} && kubectl config use-context tkg-innov-prod'"})]})]})})}),"\n",(0,a.jsxs)(n.p,{children:["These will also set a correct config context to use for our clusters. To apply changes re-log to your console or called (any relevant equivalent to) ",(0,a.jsx)(n.code,{children:"source ~/.bashrc"}),". After this, you can log in just by running ",(0,a.jsx)(n.code,{children:"k8dev"}),". Note, if you don't have ",(0,a.jsx)(n.code,{children:"$KUBECTL_VSPHERE_PASSWORD"})," environment variable set it will ask you for your NT password."]})]})}function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,o.ah)(),e.components);return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}l.title="string"==typeof c&&c||"Kubernetes Lens Setup";let m=e=>(0,a.jsx)(r.mK.Provider,{value:e,children:(0,a.jsx)(p,{})});(s=globalThis).__nextra_pageContext__||(s.__nextra_pageContext__=Object.create(null)),globalThis.__nextra_pageContext__["/onboarding/setup-and-access/kubernetes-lens-setup"]={Content:m,pageOpts:l,themeConfig:i.Z}}},function(e){e.O(0,[9774,5860,2888,179],function(){return e(e.s=4039)}),_N_E=e.O()}]);